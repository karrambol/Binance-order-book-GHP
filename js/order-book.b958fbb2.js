(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-book"],{"159b":function(t,e,r){var i=r("da84"),n=r("fdbc"),a=r("17c2"),o=r("9112");for(var s in n){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,r){"use strict";var i=r("b727").forEach,n=r("a640"),a=r("ae40"),o=n("forEach"),s=a("forEach");t.exports=o&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,r){"use strict";var i=r("23e7"),n=r("17c2");i({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"4de4":function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").filter,a=r("1dde"),o=r("ae40"),s=a("filter"),c=o("filter");i({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"6b57":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-book"},[r("Table",{attrs:{array:t.bids,title:"Bids","show-total":t.width>768}}),r("Table",{attrs:{array:t.asks,title:"Asks","show-total":t.width>768}})],1)},n=[],a=(r("4de4"),r("c740"),r("4160"),r("a434"),r("159b"),r("c7b2")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"table"},[r("caption",[t._v(" "+t._s(t.title)+" ")]),r("thead",{staticClass:"table__head",style:{paddingRight:t.scrollWidth+"px"}},[r("tr",[r("th",[t._v("Amount")]),r("th",[t._v("Price")]),t.showTotal?r("th",[t._v("Total")]):t._e()])]),r("tbody",{staticClass:"table__body",style:t.tbodyStyle,on:{mouseenter:function(e){return t.startScroll()},mouseleave:function(e){return t.stopScroll()},touchstart:function(e){return t.startScroll()}}},t._l(t.array,(function(e,i){var n=e[0],a=e[1];return r("tr",{key:i},[r("td",[t._v(t._s(parseFloat(a).toFixed(6)))]),r("td",[t._v(t._s(n.slice(0,9)))]),t.showTotal?r("td",[t._v(t._s((a*n).toFixed(6)))]):t._e()])})),0)])},s=[],c={name:"Table",props:{array:Array,title:String,showTotal:Boolean},data:function(){return{scrollWidth:17,isScroll:!1}},created:function(){window.addEventListener("resize",this.updateScrollWidth),this.updateScrollWidth()},computed:{tbodyStyle:function(){return{overflowY:this.isScroll?"scroll":"hidden",marginRight:this.isScroll?"0px":this.scrollWidth+"px"}}},methods:{updateScrollWidth:function(){var t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t);var e=t.offsetWidth-t.clientWidth;t.remove(),this.scrollWidth=isNaN(e)?17:e},startScroll:function(){this.isScroll=!0},stopScroll:function(){this.isScroll=!1}}},l=c,u=(r("9ba3"),r("2877")),f=Object(u["a"])(l,o,s,!1,null,"07b7dd84",null),d=f.exports,h={name:"Home",components:{Table:d},data:function(){return{lastUpdateId:0,isBuffering:!0,changeBuffer:[],asks:[],bids:[],socket:void 0,width:0}},beforeCreate:function(){var t=this;this.asks=[],this.bids=[],this.socket=a["a"].subscribe(a["b"].$data.symbol,(function(e){e.e&&(t.isBuffering?t.changeBuffer.push(e):(a["b"].$emit("event-applied",e),e.a.forEach((function(e){return t.applayChange(t.asks,e)})),e.b.forEach((function(e){return t.applayChange(t.bids,e)})),t.bids.sort((function(t,e){return e[0]-t[0]})),t.asks.sort((function(t,e){return t[0]-e[0]}))))})),a["a"].fetch(a["b"].$data.symbol).then((function(e){t.lastUpdateId=e.lastUpdateId,t.asks=e.asks,t.bids=e.bids,t.changeBuffer=t.changeBuffer.filter((function(e){return e.u>t.lastUpdateId})),t.isBuffering=!1}))},created:function(){window.addEventListener("resize",this.updateWidth),this.updateWidth()},beforeDestroy:function(){a["a"].unsubscribe()},methods:{applayChange:function(t,e){var r=t.findIndex((function(t){return t[0]===e[0]}));parseFloat(e[1])<1e-9&&r>-1&&t.splice(r,1),parseFloat(e[1])>=1e-9&&r>-1&&(t[r][1]=e[1]),parseFloat(e[1])>=1e-9&&-1===r&&t.push(e)},updateWidth:function(){this.width=window.innerWidth}}},p=h,b=(r("c051"),Object(u["a"])(p,i,n,!1,null,"18a60b4f",null));e["default"]=b.exports},"9ba3":function(t,e,r){"use strict";var i=r("c897"),n=r.n(i);n.a},a434:function(t,e,r){"use strict";var i=r("23e7"),n=r("23cb"),a=r("a691"),o=r("50c4"),s=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),f=r("ae40"),d=u("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,v=9007199254740991,S="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!h},{splice:function(t,e){var r,i,u,f,d,h,y=s(this),g=o(y.length),m=n(t,g),w=arguments.length;if(0===w?r=i=0:1===w?(r=0,i=g-m):(r=w-2,i=b(p(a(e),0),g-m)),g+r-i>v)throw TypeError(S);for(u=c(y,i),f=0;f<i;f++)d=m+f,d in y&&l(u,f,y[d]);if(u.length=i,r<i){for(f=m;f<g-i;f++)d=f+i,h=f+r,d in y?y[h]=y[d]:delete y[h];for(f=g;f>g-i+r;f--)delete y[f-1]}else if(r>i)for(f=g-i;f>m;f--)d=f+i-1,h=f+r-1,d in y?y[h]=y[d]:delete y[h];for(f=0;f<r;f++)y[f+m]=arguments[f+2];return y.length=g-i+r,u}})},a4fe:function(t,e,r){},a640:function(t,e,r){"use strict";var i=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,r){var i=r("83ab"),n=r("d039"),a=r("5135"),o=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var r=[][t],l=!!a(e,"ACCESSORS")&&e.ACCESSORS,u=a(e,0)?e[0]:c,f=a(e,1)?e[1]:void 0;return s[t]=!!r&&!n((function(){if(l&&!i)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:c}):t[1]=1,r.call(t,u,f)}))}},b727:function(t,e,r){var i=r("0366"),n=r("44ad"),a=r("7b0b"),o=r("50c4"),s=r("65f0"),c=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(h,p,b,v){for(var S,y,g=a(h),m=n(g),w=i(p,b,3),L=o(m.length),x=0,E=v||s,T=e?E(h,L):r?E(h,0):void 0;L>x;x++)if((d||x in m)&&(S=m[x],y=w(S,x,g),t))if(e)T[x]=y;else if(y)switch(t){case 3:return!0;case 5:return S;case 6:return x;case 2:c.call(T,S)}else if(u)return!1;return f?-1:l||u?u:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c051:function(t,e,r){"use strict";var i=r("a4fe"),n=r.n(i);n.a},c740:function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").findIndex,a=r("44d2"),o=r("ae40"),s="findIndex",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},c897:function(t,e,r){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=order-book.b958fbb2.js.map